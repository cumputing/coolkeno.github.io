<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cool Keno Game</title>
<style>
Â  Â  body {
Â  Â  Â  Â  font-family: 'Arial', sans-serif;
Â  Â  Â  Â  background: radial-gradient(circle at top left, #0d0d1f, #1a1a2e, #162447, #0d0d1f);
Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: flex-start;
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  background-size: cover;
Â  Â  Â  Â  animation: bgPulse 10s infinite alternate;
Â  Â  }

Â  Â  @keyframes bgPulse {
Â  Â  Â  Â  0% { background-position: top left; }
Â  Â  Â  Â  50% { background-position: center; }
Â  Â  Â  Â  100% { background-position: bottom right; }
Â  Â  }

Â  Â  h1 {
Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  color: #f5a623;
Â  Â  Â  Â  text-shadow: 2px 2px 6px #000;
Â  Â  }

Â  Â  #keno-board {
Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  /* --- FIXED: 8 columns for standard 80-number board --- */
Â  Â  Â  Â  grid-template-columns: repeat(8, 50px);
Â  Â  Â  Â  grid-gap: 5px;
Â  Â  Â  Â  margin: 20px 0;
Â  Â  }

Â  Â  .cell {
Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  background: linear-gradient(145deg, #162447, #0d0d1f);
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  user-select: none;
Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  box-shadow: 2px 2px 10px rgba(0,0,0,0.5);
Â  Â  }

Â  Â  .cell.selected {
Â  Â  Â  Â  background: #f5a623;
Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  box-shadow: 0 0 20px #f5a623, 0 0 30px #f5a623;
Â  Â  }

Â  Â  .cell.drawn {
Â  Â  Â  Â  background: #e94560;
Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  box-shadow: 0 0 20px #e94560, 0 0 30px #e94560;
Â  Â  }
Â  Â  
Â  Â  .cell.selected.drawn {
Â  Â  Â  Â  background: #5c67e8; /* A mix color for selected & drawn */
Â  Â  }

Â  Â  .cell.hit {
Â  Â  Â  Â  background: #00ff7f;
Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  box-shadow: 0 0 25px #00ff7f, 0 0 40px #00ff7f;
Â  Â  }

Â  Â  button {
Â  Â  Â  Â  background: #f5a623;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0,0,0,0.5);
Â  Â  }

Â  Â  button.bet-btn {
Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  margin-left: 5px;
Â  Â  }

Â  Â  button:hover:not(:disabled) {
Â  Â  Â  Â  background: #ffba08;
Â  Â  Â  Â  transform: scale(1.05);
Â  Â  }
    
    button:disabled {
        background: #444;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        opacity: 0.6;
    }

Â  Â  #php-money {
Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  gap: 10px;
Â  Â  }

Â  Â  #bet-input {
Â  Â  Â  Â  width: 60px;
Â  Â  Â  Â  padding: 2px 5px;
Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  font-size: 16px;
        text-align: center;
Â  Â  }

Â  Â  #hit-multiplier {
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 150px;
Â  Â  Â  Â  left: 20px;
Â  Â  Â  Â  background: linear-gradient(135deg, #162447, #0d0d1f);
Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  color: #f5a623;
Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  line-height: 1.5;
Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0,0,0,0.7);
Â  Â  }

Â  Â  #results {
Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  color: #00ff7f;
Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  transition: transform 0.3s, opacity 0.5s;
Â  Â  Â  Â  opacity: 1;
Â  Â  }

Â  Â  #results.error {
Â  Â  Â  Â  color: #ff4d4d;
Â  Â  }
    
    #game-over-screen {
Â  Â  Â  Â  display: none; /* Starts hidden */
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  color: #e94560;
Â  Â  Â  Â  font-weight: bold;
Â  Â  }

Â  Â  #controls {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  align-items: center;
Â  Â  }
</style>
</head>
<body>

<h1>cool keno game ğŸ²</h1>
<div id="php-money">
Â  Â  money: <span id="money-display">100</span>
Â  Â  <span>
Â  Â  Â  Â  bet: <input type="number" id="bet-input" value="1" min="1">
Â  Â  Â  Â  <button id="bet-half" class="bet-btn">/2</button>
Â  Â  Â  Â  <button id="bet-double" class="bet-btn">x2</button>
Â  Â  Â  Â  <button id="bet-max" class="bet-btn">MAX</button>
Â  Â  </span>
</div>
<div id="controls">
Â  Â  <span>Picks: <span id="pick-count">0</span>/10</span>
Â  Â  <button id="clear-picks-btn">Clear Picks</button>
</div>
<div id="keno-board"></div>
<div id="hit-multiplier">
Â  Â  hit multiplier (REAL Payouts):<br>
Â  Â  hit 0-2 = 0x (Loss)<br>
Â  Â  hit 3 = 2x<br>
Â  Â  hit 4 = 5x<br>
Â  Â  hit 5 = 15x<br>
Â  Â  hit 6 = 100x<br>
Â  Â  hit 7 = 750x<br>
Â  Â  hit 8 = 5,000x<br>
Â  Â  hit 9 = 15,000x<br>
Â  Â  hit 10 = 100,000x ğŸ’¥
</div>
<button id="draw-btn">Draw Numbers</button>
<div id="results"></div>
<div id="game-over-screen">
    GAME OVER, BRO!
    <button id="play-again-btn">Play Again?</button>
</div>

<script>
const board = document.getElementById('keno-board');
const drawBtn = document.getElementById('draw-btn');
const moneyDisplay = document.getElementById('money-display');
const betInput = document.getElementById('bet-input');
const resultsDiv = document.getElementById('results');
const pickCountSpan = document.getElementById('pick-count');
const clearBtn = document.getElementById('clear-picks-btn');
const gameOverScreen = document.getElementById('game-over-screen');
const playAgainBtn = document.getElementById('play-again-btn');

// Bet buttons
const betHalfBtn = document.getElementById('bet-half');
const betDoubleBtn = document.getElementById('bet-double');
const betMaxBtn = document.getElementById('bet-max');

const totalNumbers = 80;
let selectedNumbers = [];
let money = 100;
const maxPick = 10;
const minBet = 1;

// --- Global state for drawing/skipping ---
let drawInterval = null;
let currentDrawnNumbers = [];
let currentBet = 0;

// --- FIXED: Realistic, exponential payouts ---
const payoutTable = {
Â  Â  0: 0,
Â  Â  1: 0,
Â  Â  2: 0,
Â  Â  3: 2,
Â  Â  4: 5,
Â  Â  5: 15,
Â  Â  6: 100,
Â  Â  7: 750,
Â  Â  8: 5000,
Â  Â  9: 15000,
Â  Â  10: 100000 
};

for (let i = 1; i <= totalNumbers; i++) {
Â  Â  const cell = document.createElement('div');
Â  Â  cell.classList.add('cell');
Â  Â  cell.textContent = i;
Â  Â  cell.addEventListener('click', () => toggleSelect(i, cell));
Â  Â  board.appendChild(cell);
}

function showTempMessage(text, isError = false) {
Â  Â  resultsDiv.textContent = text;
Â  Â  resultsDiv.classList.toggle('error', isError);
Â  Â  resultsDiv.style.opacity = 1;
Â  Â  setTimeout(() => {
Â  Â  Â  Â  resultsDiv.style.opacity = 0;
Â  Â  Â  Â  resultsDiv.classList.remove('error');
Â  Â  }, 2000);
}

function updateMoney(amount) {
    money += amount;
    moneyDisplay.textContent = money;
    updatePickCount();
}

function updateBetInput(newBet) {
    let validBet = Math.max(minBet, Math.round(newBet));
    betInput.value = Math.min(validBet, money);
    updatePickCount();
}

function updatePickCount() {
Â  Â  pickCountSpan.textContent = selectedNumbers.length;
    let currentBetVal = parseInt(betInput.value) || 0;
    
    // Only disable draw button if a draw isn't already in progress
    if (!drawInterval) {
        drawBtn.disabled = selectedNumbers.length === 0 || currentBetVal > money || currentBetVal < minBet;
    }
    
    betHalfBtn.disabled = (currentBetVal / 2) < minBet;
    betDoubleBtn.disabled = (currentBetVal * 2) > money;
    betMaxBtn.disabled = money < minBet;
    
    if (money < minBet && gameOverScreen.style.display !== 'block') {
        showGameOver();
    }
}

function toggleSelect(number, cell) {
    if (drawInterval) return; // Prevent selection during draw

Â  Â  if (selectedNumbers.includes(number)) {
Â  Â  Â  Â  selectedNumbers = selectedNumbers.filter(n => n !== number);
Â  Â  Â  Â  cell.classList.remove('selected');
Â  Â  } else {
Â  Â  Â  Â  if (selectedNumbers.length < maxPick) {
Â  Â  Â  Â  Â  Â  selectedNumbers.push(number);
Â  Â  Â  Â  Â  Â  cell.classList.add('selected');
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  showTempMessage(`max ${maxPick} picks bro ğŸ˜`, true);
Â  Â  Â  Â  }
Â  Â  }
Â  Â  updatePickCount();
}

function resetBoard(clearSelections = true) {
    document.querySelectorAll('.cell').forEach(c => c.classList.remove('selected', 'drawn', 'hit'));
    if (clearSelections) {
        selectedNumbers = [];
    } else {
        selectedNumbers.forEach(num => {
            const cell = Array.from(document.querySelectorAll('.cell')).find(c => parseInt(c.textContent) === num);
            if (cell) cell.classList.add('selected');
        });
    }
    resultsDiv.style.opacity = 0;
}

function showGameOver() {
    drawBtn.style.display = 'none';
    clearBtn.style.display = 'none';
    document.getElementById('controls').style.display = 'none';
    document.getElementById('php-money').style.display = 'none';
    gameOverScreen.style.display = 'block';
    resultsDiv.textContent = "GAME OVER! Time to reload the machine. ğŸ˜­";
    resultsDiv.classList.add('error');
    resultsDiv.style.opacity = 1;
}

function playAgain() {
    money = 100;
    updateBetInput(10); 
    moneyDisplay.textContent = money;

    gameOverScreen.style.display = 'none';
    drawBtn.style.display = 'block';
    clearBtn.style.display = 'block';
    document.getElementById('controls').style.display = 'flex';
    document.getElementById('php-money').style.display = 'flex';

    resetBoard(true);
    updatePickCount();
}

playAgainBtn.addEventListener('click', playAgain);

// --- Quick Bet Button Handlers ---
betHalfBtn.addEventListener('click', () => {
    updateBetInput(parseInt(betInput.value) / 2);
});

betDoubleBtn.addEventListener('click', () => {
    updateBetInput(parseInt(betInput.value) * 2);
});

betMaxBtn.addEventListener('click', () => {
    updateBetInput(money);
});

betInput.addEventListener('input', () => {
    let val = parseInt(betInput.value);
    if (isNaN(val) || val < minBet) {
        betInput.value = minBet;
    }
    updatePickCount();
});


function handleDrawClick() {
    if (drawInterval) {
        // If draw is happening, skip to end
        skipDraw();
    } else {
        // Otherwise, start a new draw
        drawNumbers();
    }
}

function drawNumbers() {
Â  Â  currentBet = parseInt(betInput.value) || minBet;
    if (currentBet > money) return;

Â  Â  updateMoney(-currentBet);
    
    resetBoard(false); // Clear old results, keep selections

    drawBtn.textContent = 'Skip â©';
    drawBtn.disabled = false; // Make sure it's clickable to skip
    clearBtn.disabled = true; // Disable clear during draw

Â  Â  currentDrawnNumbers = [];
Â  Â  while (currentDrawnNumbers.length < 20) {
Â  Â  Â  Â  let rand = Math.floor(Math.random() * totalNumbers) + 1;
Â  Â  Â  Â  if (!currentDrawnNumbers.includes(rand)) currentDrawnNumbers.push(rand);
Â  Â  }

Â  Â  let i = 0;
Â  Â  drawInterval = setInterval(() => {
Â  Â  Â  Â  if (i >= currentDrawnNumbers.length) {
Â  Â  Â  Â  Â  Â  // --- Draw is finished, now calculate ---
Â  Â  Â  Â  Â  Â  clearInterval(drawInterval);
            drawInterval = null; // Mark draw as finished
Â  Â  Â  Â  Â  Â  calculateResults();
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // Sequential drawing logic
Â  Â  Â  Â  const num = currentDrawnNumbers[i];
Â  Â  Â  Â  const cell = Array.from(document.querySelectorAll('.cell')).find(c => parseInt(c.textContent) === num);
Â  Â  Â  Â  cell.classList.add('drawn');
Â  Â  Â  Â  i++;
Â  Â  }, 200); // 200ms per number
}

function skipDraw() {
    if (!drawInterval) return;

    // Stop the animation
    clearInterval(drawInterval);
    drawInterval = null;

    // Show all drawn numbers instantly (optional, but looks better)
    currentDrawnNumbers.forEach(num => {
        const cell = Array.from(document.querySelectorAll('.cell')).find(c => parseInt(c.textContent) === num);
        if (cell) cell.classList.add('drawn');
    });

    // Jump to results
    calculateResults();
}

function calculateResults() {
    const hits = selectedNumbers.filter(n => currentDrawnNumbers.includes(n));
Â  Â  Â  Â  Â  Â  
    // Highlight the hits and clear 'selected'/'drawn' classes
    document.querySelectorAll('.cell.selected').forEach(c => c.classList.remove('selected'));
    document.querySelectorAll('.cell.drawn').forEach(c => c.classList.remove('drawn'));
    
Â  Â  hits.forEach(num => {
Â  Â  Â  Â  const cell = Array.from(document.querySelectorAll('.cell')).find(c => parseInt(c.textContent) === num);
Â  Â  Â  Â  cell.classList.add('hit');
Â  Â  });
    
Â  Â  const multiplier = payoutTable[hits.length] || 0;
Â  Â  const winnings = currentBet * multiplier;
Â  Â  Â  Â  Â  Â  
Â  Â  updateMoney(winnings);

Â  Â  resultsDiv.textContent = `yo mf you hit ${hits.length} times! x${multiplier} = ${winnings} ğŸ’°`;
    resultsDiv.style.opacity = 1;
Â  Â  if (winnings > currentBet) {
Â  Â  Â  Â  resultsDiv.style.transform = 'scale(1.3)';
Â  Â  }
Â  Â  Â  Â  Â  Â  
Â  Â  setTimeout(() => { resultsDiv.style.opacity = 0; }, 4000); // Longer time to see results
Â  Â  selectedNumbers = []; // Clear picks for the next round
    
    // Re-enable controls
    drawBtn.textContent = 'Draw Numbers';
    clearBtn.disabled = false;
Â  Â  updatePickCount(); 
}

// Main click listener
drawBtn.addEventListener('click', handleDrawClick);

// Initial setup
updateBetInput(10);
updatePickCount();
</script>

</body>
</html>
